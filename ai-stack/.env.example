# =================================================================
# AI Stack Environment Configuration
# =================================================================
# Copy this file to .env and fill in your values
# Use strong, unique passwords and keys for production!

# =================================================================
# GENERAL CONFIGURATION
# =================================================================
TIMEZONE=America/New_York
NODE_ENV=production

# =================================================================
# POSTGRESQL DATABASE CONFIGURATION (with Vector & AI Extensions)
# =================================================================
POSTGRES_USER=aistack_user
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_DB=aistack_db
POSTGRES_ADDITIONAL_DBS=n8n_db,litellm_db
POSTGRES_PORT=5432

# Vector Extension Configuration
POSTGRES_VECTOR_EXTENSION=true
POSTGRES_PGAI_EXTENSION=true

# Resource Limits (adjusted for AI workloads on Mac Mini M4)
POSTGRES_MEMORY_LIMIT=3G
POSTGRES_CPU_LIMIT=3.0
POSTGRES_MEMORY_RESERVATION=1G
POSTGRES_CPU_RESERVATION=1.0

# =================================================================
# REDIS CONFIGURATION
# =================================================================
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_PORT=6379
REDIS_MAX_MEMORY=512mb

# Resource Limits
REDIS_MEMORY_LIMIT=512M
REDIS_CPU_LIMIT=0.5
REDIS_MEMORY_RESERVATION=128M
REDIS_CPU_RESERVATION=0.1

# =================================================================
# N8N WORKFLOW AUTOMATION
# =================================================================
N8N_VERSION=latest
N8N_PORT=5678
N8N_HOST=localhost
N8N_PROTOCOL=http
N8N_WEBHOOK_URL=http://localhost:5678

# Security
N8N_ENCRYPTION_KEY=your_32_character_encryption_key_here
N8N_SECURE_COOKIE=false
N8N_DB_SCHEMA=n8n

# Features
N8N_METRICS=true
N8N_LOG_LEVEL=info
N8N_USER_MANAGEMENT_DISABLED=false
N8N_PUBLIC_API_DISABLED=false
N8N_VERSION_NOTIFICATIONS_ENABLED=false
N8N_RUNNERS_ENABLED=true
N8N_AI_ENABLED=true

# Resource Limits
N8N_MEMORY_LIMIT=3G
N8N_CPU_LIMIT=2.0
N8N_MEMORY_RESERVATION=1G
N8N_CPU_RESERVATION=0.5
N8N_MAX_MEMORY=2048

# API Configuration
N8N_API_KEY=your_n8n_api_key_here

# =================================================================
# OLLAMA AI MODEL SERVER
# =================================================================
OLLAMA_VERSION=latest
OLLAMA_PORT=11434
OLLAMA_KEEP_ALIVE=24h
OLLAMA_MAX_MODELS=3
OLLAMA_PARALLEL=2
OLLAMA_FLASH_ATTENTION=true

# Resource Limits (adjust based on your models)
OLLAMA_MEMORY_LIMIT=12G
OLLAMA_CPU_LIMIT=6.0
OLLAMA_MEMORY_RESERVATION=2G
OLLAMA_CPU_RESERVATION=1.0

# =================================================================
# OPEN WEBUI CONFIGURATION
# =================================================================
WEBUI_VERSION=main
WEBUI_PORT=8080
WEBUI_SECRET_KEY=your_webui_secret_key_here
WEBUI_NAME=AI Stack WebUI
WEBUI_URL=http://localhost:8080

# Authentication
ENABLE_SIGNUP=false
WEBUI_AUTH=true
DEFAULT_USER_ROLE=user
DEFAULT_LOCALE=en-US

# AI Model Configuration
DEFAULT_MODELS=llama3.2:latest,qwen2.5:latest
RAG_EMBEDDING_MODEL=nomic-embed-text
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Features
ENABLE_RAG_WEB_SEARCH=false
ENABLE_IMAGE_GENERATION=true
SAFE_MODE=false

# Integration
LITELLM_BASE_URL=http://litellm:4000

# Resource Limits
WEBUI_MEMORY_LIMIT=1G
WEBUI_CPU_LIMIT=1.0
WEBUI_MEMORY_RESERVATION=256M
WEBUI_CPU_RESERVATION=0.25

# =================================================================
# LITELLM PROXY CONFIGURATION
# =================================================================
LITELLM_VERSION=main-stable
LITELLM_PORT=4000
LITELLM_MASTER_KEY=your_litellm_master_key_here
LITELLM_SALT_KEY=your_litellm_salt_key_here
LITELLM_UI_USERNAME=admin
LITELLM_UI_PASSWORD=your_litellm_ui_password_here
LITELLM_LOG_LEVEL=INFO

# Model Configuration
LITELLM_MODEL_LIST=

# Resource Limits
LITELLM_MEMORY_LIMIT=1G
LITELLM_CPU_LIMIT=1.0
LITELLM_MEMORY_RESERVATION=256M
LITELLM_CPU_RESERVATION=0.25

# =================================================================
# N8N MCP SERVER CONFIGURATION
# =================================================================
N8N_MCP_VERSION=latest
N8N_MCP_PORT=3000
N8N_MCP_AUTH_TOKEN=your_n8n_mcp_auth_token_here
MCP_MODE=http
USE_FIXED_HTTP=true
N8N_MCP_LOG_LEVEL=error
N8N_MCP_DISABLE_CONSOLE=true
TRUST_PROXY=true

# Resource Limits
N8N_MCP_MEMORY_LIMIT=512M
N8N_MCP_CPU_LIMIT=0.5
N8N_MCP_MEMORY_RESERVATION=128M
N8N_MCP_CPU_RESERVATION=0.1

# =================================================================
# MCPO (MCP ORCHESTRATOR) CONFIGURATION
# =================================================================
MCPO_VERSION=main
MCPO_PORT=8000
MCPO_API_KEY=your_mcpo_api_key_here
MCPO_SERVER_TYPE=streamable_http
MCPO_LOG_LEVEL=info

# Resource Limits
MCPO_MEMORY_LIMIT=256M
MCPO_CPU_LIMIT=0.25
MCPO_MEMORY_RESERVATION=64M
MCPO_CPU_RESERVATION=0.1

# =================================================================
# BACKUP CONFIGURATION
# =================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPT=true
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here
BACKUP_LOCATION=/Users/$(whoami)/ai-stack-backups

# =================================================================
# MONITORING (OPTIONAL)
# =================================================================
MONITORING_ENABLED=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here
